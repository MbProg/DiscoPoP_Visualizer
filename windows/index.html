<html>

<head>
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/index.css">
  <script src="../js/views/index.js"></script>

  <title>DiscoPoP Visualizer</title>

</head>

<body>

  <div class="container-fluid" id="index-header">
    <h1>DiscoPoP Visualizer</h1>
    <h3>Click on Import to get started</h3>
    <button id="import-button" class="col-md-offset-5 col-md-2 col-md-offset-5 btn">Import</button>
    <img id="tud-logo" src="../images/tud_logo.png" />
  </div>


  <div class="container-fluid" id="index-content">
    <br>
    <br>
    <h1>Importing</h1>
    <p>
      Click on Import or press ctrl+I. Select the file-mapping file and then the data file output by DiscoPoP.
    </p>
    <h1>Graph</h1>
    <p>
      Move the graph by clicking on any point and dragging it
    </p>
    <p>
      Zoom in or out from the graph with your mouse-wheel
    </p>
    <p>
      Click on a node to select it. Doing so will highlight the lines of code it contains.
    </p>
    <p>
      Double-click on a node to expand it
    </p>
    <p>
      Right-click on a node to see all possible actions on it
    </p>
    <p>
      Click on a dependency-edge's variable to highlight the accesses to the variable in the code
    </p>
    <p>
      Legend:
      <div id="legend-container">
        <svg width="460pt" height="133pt" viewBox="0.00 0.00 459.92 132.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="legend-graph" class="graph" transform="scale(1 1) rotate(0) translate(4 128.8)">
            <polygon fill="white" stroke="none" points="-4,4 -4,-128.8 455.923,-128.8 455.923,4 -4,4" />
            <!-- cu -->
            <g id="node1" class="node cu-node">
              <polygon fill="none" stroke="black" points="216.999,-124.8 89.7847,-124.8 89.7847,-88.8 216.999,-88.8 216.999,-124.8" />
              <text text-anchor="middle" x="153.392" y="-102.6" font-family="Times,serif" font-size="14.00">Computational Unit</text>
            </g>
            <!-- function -->
            <g id="node2" class="node function-node">
              <polygon fill="none" stroke="black" points="104.676,-18 78.534,-36 26.2499,-36 0.10785,-18 26.2499,-2.84217e-14 78.534,-0 104.676,-18" />
              <text text-anchor="middle" x="52.3919" y="-13.8" font-family="Times,serif" font-size="14.00">Function</text>
            </g>
            <!-- cu&#45;&gt;function -->
            <g id="edge1" class="edge function-call-edge">
              <path fill="none" stroke="black" stroke-dasharray="1,5" d="M89.6907,-88.9021C80.6643,-84.2416 72.2242,-78.3187 65.6205,-70.8 59.6984,-64.0572 56.3626,-55.0187 54.5044,-46.3803" />
              <polygon fill="black" stroke="black" points="57.917,-45.5526 52.8959,-36.2232 51.0032,-46.6475 57.917,-45.5526" />
              <text text-anchor="middle" x="105.278" y="-58.2" font-family="Times,serif" font-size="14.00">Function&#45;Call</text>
            </g>
            <!-- loop -->
            <g id="node3" class="node loop-node">
              <ellipse fill="none" stroke="black" cx="200.392" cy="-18" rx="31.3429" ry="18" />
              <text text-anchor="middle" x="200.392" y="-13.8" font-family="Times,serif" font-size="14.00">Loop</text>
            </g>
            <!-- cu&#45;&gt;loop -->
            <g id="edge3" class="edge dependency-edge">
              <path fill="none" stroke="black" d="M148.115,-88.5375C145.897,-77.9897 144.938,-64.5473 150.427,-54 154.312,-46.5355 160.598,-40.3331 167.421,-35.3283" />
              <polygon fill="black" stroke="black" points="169.727,-38.0043 176.21,-29.6246 165.916,-32.1324 169.727,-38.0043" />
              <text text-anchor="middle" x="186.374" y="-58.2" font-family="Times,serif" font-size="14.00">Dependency</text>
            </g>
            <!-- loop&#45;&gt;cu -->
            <g id="edge2" class="edge flow-edge">
              <path fill="none" stroke="black" d="M215.223,-34.0106C223.856,-44.6297 231.72,-59.017 224.392,-70.8 221.606,-75.2801 218.058,-79.2036 214.041,-82.6367" />
              <polygon fill="black" stroke="black" points="211.82,-79.9249 205.812,-88.6518 215.95,-85.5761 211.82,-79.9249" />
              <text text-anchor="middle" x="256.325" y="-58.2" font-family="Times,serif" font-size="14.00">Data&#45;Flow</text>
            </g>
            <!-- libFunc -->
            <g id="node4" class="node library-function-node">
              <polygon fill="none" stroke="black" points="343.392,-124.8 234.829,-106.8 343.392,-88.8 451.955,-106.8 343.392,-124.8" />
              <text text-anchor="middle" x="343.392" y="-102.6" font-family="Times,serif" font-size="14.00">Library Function</text>
            </g>
          </g>
        </svg>
      </div>
    </p>
    <p>
      A <span class="glyphicon glyphicon-save"></span> symbol signifies a write to a variable. Click on it to highlight the line on which that write occurs in the code.
    </p>
    <p>
      A <span class="glyphicon glyphicon-open"></span> symbol signifies a read from a variable. Click on it to highlight the line on which that read occurs in the code.
    </p>
    <p>
      A <a style "font-family: font-awesome">&#8618;</a> symbol appearing on an edge signifies a call to a function. Click on it to highlight the line on which the function-call occurs in the code.
    </p>
    <p>
      The color of the <span style="font-family: font-awesome">&#xf06d;</span> symbol represents the heat-level of the node in relation to the others:
    </p>
    <div id="colorstrip">
      <label style="float:left;color:white">Low</label>
      <label style="float:right">High</label>
    </div>
    <h1>Code</h1>
    <p>
      On the Files tab, select a file to open it. You may right-click on any line of code in the file to find the Computational-Unit that contains it.
    </p>
    <p>
      A line-number marked with <span class="editor_write_decoration">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span> signifies a write on the variable
    </p>
    <p>
      A line-number marked with <span class="editor_read_decoration">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span> signifies a read on the variable
    </p>
    <h1>Preferences</h1>
    <p>
      You may change some color-settings for the graph by clicking on Preferences and then Graph, or pressing ctrl+G.
    </p>
    <p>
      You may change some styling-settings for the code-viewer by clicking on Preferences and then Code, or pressing ctrl+E.
    </p>

    <br />
    <br />
    <p>
      Note: if you see some of the symbols mentioned as empty rectangles, install the FontAwesome.odt font (in css/fonts).
    </p>
  </div>
</body>

</html>
